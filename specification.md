【アプリ仕様まとめ】

■ 基本目的
- 猫の1日分の給餌計画をカロリー計算し、複数のフード組み合わせからメニュー提案する。
- 在庫管理や履歴管理、猫ごとの目標カロリー計算などを行い、ユーザー個人またはグループで共有できる。

■ ユーザー管理・グループ機能
- ユーザーはメールアドレス＋パスワードでアカウントを作成・ログイン。
- 各ユーザーは「個人領域」を持ち、そこに猫・フード・履歴を登録可能。
- ユーザーは「グループ」を作成し、他のユーザーを招待できる。
  - グループ内では複数の猫やフード在庫を共有管理でき、メニュー履歴も共有。
  - 猫データは所属先(個人 or グループ)を切り替え可能で、切り替え時に過去履歴も維持される。
- アプリ自体を紹介しダウンロードしてもらうのは自由（アプリ招待）。
- グループへの参加はグループ管理者が個別にユーザーを招待する形。
  - よってアプリ利用者が増えても、招待しなければグループのメンバーは増えない。

■ 猫プロフィール登録
- 項目：名前、体重(kg)、状態カテゴリ（避妊/去勢済み、活動的、減量必要など）
- RER計算：RER(kcal) = 体重(kg)×30 + 70
- 状態に応じた係数を掛けて、1日の目標カロリーを自動算出（RER×係数）
- 最終的な目標カロリーはユーザーが微調整可能。

■ フード登録
- フード名、100gあたりのカロリー、コスト、在庫量などを登録可能。
- リスト形式で表示。
- 個人用フード、グループ用フードを分けて管理（所属先を明確化）。

■ メニュー計画・自動提案
- ユーザーは1日の給餌回数と優先度（コスト優先、カロリー優先、バランス）を指定。
- アプリは登録されたフードを優先度に応じて選び、目標カロリーに近づくよう分量を計算して提案。
- ユーザーは表示されたメニューを微調整可能。
- 最終確定後メニューを履歴として保存。

■ 在庫管理
- フードの在庫量を記録。
- メニュー確定時に在庫を自動的に減らすことも可能（MVPでは手動更新も可）。
- 在庫減少で不足があればアラート。

■ 履歴管理
- 過去のメニュー計画・実績を記録。
- 実際に与えた量が違えば事後修正可能。
- 過去データ閲覧・比較で、体重推移やカロリー推移を参考にできる（将来的な拡張）。

■ データモデル概略
- User：個人アカウント情報
- Group：共有用グループ（複数ユーザー所属可能）
- Cat：猫情報。owner_type(USER/GROUP)とowner_idで所属先を管理。
- Food, Menu, Inventory：Catまたはグループに紐づくデータ

■ 想定利用フロー
1. ユーザーAがアプリダウンロード・登録
2. 個人領域で猫やフードを登録し、メニュー作成開始
3. 家族Bがアプリを知り、ダウンロード＆登録
4. Aが「家族グループ」を作成し、個人領域の猫をグループへ移行
5. AがBを家族グループへ招待
6. Bは参加承認し、A・B双方が同じ猫データ・メニュー・在庫を共有管理可能

■ MVP範囲
- 基本的なログイン/サインアップ
- 個人領域での猫・フード登録、RER計算、メニュー提案・履歴保存
- シンプルなグループ作成・参加招待、猫データ移行、共有管理

これらを基本として、今後はユーザーインターフェースや実際のアルゴリズム詳細、通知機能などを段階的に追加する
